package com.comcast.homesecurity.domain.util;

import com.comcast.homesecurity.domain.pojo.Event;
import org.codehaus.jackson.JsonGenerationException;
import org.codehaus.jackson.JsonParseException;
import org.codehaus.jackson.map.JsonMappingException;
import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.assertEquals;

public class JsonHelperTest {
    
    @Test
    public void testToJSON() throws JsonGenerationException, JsonMappingException, IOException {
        String output = JsonHelper.toJSON(new Event());
        assertEquals(  "{\"eventId\":null,\"eventName\":null,\"mediaType\":null,\"channel\":null,\"instance\":null,\"siteId\":null,\"timestamp\":0,\"value\":null,\"metadata\":null}", output);
    }
    
    @Test
    public void testFromJSONString() throws JsonParseException, JsonMappingException, IOException {
         Event output = JsonHelper.fromJSONString(  "{\"eventId\":1,\"eventName\":null,\"mediaType\":null,\"channel\":null,\"instance\":null,\"timestamp\":0,\"value\":false,\"metadata\":null}", Event.class);
         assertEquals("1", output.getEventId());
    }
}

